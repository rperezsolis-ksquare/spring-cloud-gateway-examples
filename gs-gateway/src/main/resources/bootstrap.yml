server:  port: 8080management:  endpoint:    gateway:      enabled: true
spring:
  application:    name: gateway-service
  cloud:
    consul:
      host: localhost
      port: 8500      config:        format: YAML    loadbalancer:      ribbon:        enabled: false    gateway:      routes:      - id: rate_limiter_gateway_filter        uri: http://localhost:8181        predicates:        - Path=/rateLimiter        filters:        - name: RateLimiter          args:            capacity: 10            refillTokens: 5            refillPeriod: 1      - id: bucket4j_rate_limiter_gateway_filter        uri: http://localhost:8181        predicates:        - Path=/bucket4jRateLimiter        filters:        - name: Bucket4JRateLimiter          args:            capacity: 10            refillTokens: 5      - id: setStatus_route        uri: lb://demo-service/        predicates:         - Path=/demo/setStatus        filters:        - SetStatus=401      - id: demo-service        uri: lb://demo-service        predicates:         - Path=/demo/**        filters:        - RewritePath=/demo(?<segment>/?.*), $\{segment}        - name: CircuitBreaker          args:             name: circuitBreaker            fallbackUri: forward:lb://gateway-service/fallback      - id: fallback_route        uri: lb://gateway-service/        predicates:        - Path=/fallback        filters:        - name: FallbackHeaders          args:            executionExceptionTypeHeaderName: Exception-Type      - id: setpath_route        uri: lb://demo-service        predicates:        - Path=/demo/{segment}        filters:        - SetPath=/{segment}      - id: after_route        uri: lb://demo-service        predicates:        - After=2020-04-14T09:00:00.000-05:00[America/Mexico_City]        - Path=/after      - id: before_route        uri: lb://demo-service        predicates:        - Before=2020-04-14T12:00:00.000-05:00[America/Mexico_City]        - Path=/before      - id: between_route        uri: lb://demo-service        predicates:        - Between=2020-04-14T09:00:00.000-05:00[America/Mexico_City], 2020-04-14T12:00:00.000-05:00[America/Mexico_City]        - Path=/between      - id: cookie_route        uri: lb://demo-service        predicates:        - Cookie=demo_cookie, valu        - Path=/cookie      - id: header_route        uri: lb://demo-service        predicates:        - Header=X-Request-Id, \d+        - Path=/header      - id: host_route        uri: lb://demo-service        predicates:        - Host=**.somehost.org,**.anotherhost.org        - Path=/host      - id: method_route        uri: lb://demo-service        predicates:        - Method=POST        - Path=/method      - id: query_route        uri: lb://demo-service        predicates:        - Query=color        - Path=/query      - id: weight_high        uri: lb://demo-service        predicates:        - Path=/weight/**        - Weight=group1, 8      - id: weight_low        uri: https://weightlow.org        predicates:        - Path=/weight/**        - Weight=group1, 2      - id: add_request_header_route        uri: lb://demo-service        predicates:        - Path=/addRequestHeader        filters:        - AddRequestHeader=X-Request-red, blue      - id: add_request_parameter_route        uri: lb://demo-service        predicates:        - Path=/addRequestParameter        filters:        - AddRequestParameter=color, yellow      - id: add_response_header_route        uri: lb://demo-service        predicates:        - Path=/addResponseHeader        filters:        - AddResponseHeader=X-Response-Red, Blue      - id: dedupe_response_header_route        uri: lb://demo-service        predicates:        - Path=/dedupeResponseHeader        filters:        - AddResponseHeader=color, blue        - DedupeResponseHeader=color, RETAIN_LAST      - id: map_request_header_route        uri: lb://demo-service        predicates:        - Path=/mapRequestHeader        filters:        - MapRequestHeader=FromHeader, ToHeader      - id: prefixpath_route        uri: lb://demo-service        predicates:        - Path=/prefixPath        filters:        - PrefixPath=/mypath      - id: preserve_host_route        uri: lb://demo-service        predicates:        - Path=/preserveHostHeader        filters:        - PreserveHostHeader      - id: redirect_route        uri: lb://demo-service/        predicates:        - Path=/redirect        filters:        - RedirectTo=302, https://www.google.com      - id: removerequestheader_route        uri: lb://demo-service/        predicates:        - Path=/removeRequestHeader        filters:        - RemoveRequestHeader=FromHeader      - id: removeresponseheader_route        uri: lb://demo-service/        predicates:        - Path=/removeResponseHeader        filters:        - RemoveResponseHeader=color      - id: removerequestparameter_route        uri: lb://demo-service/        predicates:        - Path=/removeRequestParameter        filters:        - RemoveRequestParameter=color      - id: rewritelocationresponseheader_route        uri: lb://demo-service/        predicates:        - Path=/rewriteLocationResponseHeader        filters:        - RewriteLocationResponseHeader=ALWAYS_STRIP, Location, www.google.com, http|https|ftp|ftps      - id: rewriteresponseheader_route        uri: lb://demo-service/        predicates:        - Path=/rewriteResponseHeader        filters:        - RewriteResponseHeader=X-Response-Red, password=[^&]+, password=***      - id: save_session        uri: lb://demo-service/        predicates:        - Path=/saveSession        filters:        - SaveSession        - SecureHeaders      - id: setrequestheader_route        uri: lb://demo-service/        predicates:        - Path=/setRequestHeader        filters:        - SetRequestHeader=X-Request-Red, Blue      - id: setresponseheader_route        uri: lb://demo-service/        predicates:        - Path=/setResponseHeader        filters:        - SetResponseHeader=X-Response-Red, Blue      - id: setstatusint_route        uri: lb://demo-service/        predicates:        - Path=/setStatus        filters:        - SetStatus=401      - id: nameRoot        uri: lb://demo-service/        predicates:        - Path=/part1/**        filters:        - StripPrefix=3      - id: retry_test        uri: lb://demo-service/        predicates:        - Path=/retry        filters:        - name: Retry          args:            retries: 3            statuses: BAD_GATEWAY            methods: GET,POST            backoff:              firstBackoff: 10ms              maxBackoff: 50ms              factor: 2              basedOnPreviousValue: false      - id: request_size_route        uri: lb://demo-service/        predicates:        - Path=/requestSize        filters:        - name: RequestSize          args:            maxSize: 200KB      - id: between_hours_route        uri: lb://demo-service/        predicates:        - Path=/betweenHours        - name: BetweenHours          args:            after: "08:00:00"            before: "18:00:00"